#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# VÃ©rifier les erreurs TypeScript
echo "Checking for React Native Tests"
npm run test
if [ $? -ne 0 ]; then
    echo "âŒ Tests failed"
    echo "Please resolve them before commit"
    exit 1
fi

echo "ğŸ§‘ğŸ¼â€ğŸ’» Running Prettier"
npx prettier --write '**/*.{js,ts,tsx}' --log-level silent
if [ $? -ne 0 ]; then
    echo "âŒ TypeScript type errors found"
    echo "Please resolve them before commit"
    exit 1
fi

echo "ğŸ§‘ğŸ¼â€ğŸ’» Running Eslint"
npx eslint '**/*.{js,ts,tsx}' --fix
if [ $? -ne 0 ]; then
    echo "âŒ TypeScript lint errors found"
    echo "Please resolve them before commit"
    exit 1
fi

echo "âœ… All checks passed. Proceeding with commit."
exit 0


